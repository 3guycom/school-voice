import{b as y,a as v,R as o,j as e}from"./index-JDxZcwZg.js";import{u as g}from"./schoolStore-DTX-YYhl.js";import{S as f}from"./school-Mh_A7BXm.js";import{S as w}from"./settings-CM6ss6bD.js";import{U as S}from"./user-DqW5FyTZ.js";import{c as j}from"./createLucideIcon-YQMw5vR1.js";import{S as k}from"./shield-CYkfMjwM.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=j("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=j("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),E=()=>{y();const{user:s}=v(),{school:t,loading:i,error:n,successMessage:r,updateSchool:c,fetchSchool:l,clearMessages:h}=g(),[a,b]=o.useState({name:"",website:""});o.useEffect(()=>{s&&l()},[s,l]),o.useEffect(()=>{t&&b({name:t.name,website:t.website||""})},[t]),o.useEffect(()=>()=>{h()},[h]);const d=m=>{const{name:x,value:p}=m.target;b(N=>({...N,[x]:p}))},u=async m=>{if(m.preventDefault(),!!a.name.trim())try{await c({name:a.name.trim(),website:a.website.trim()||null})}catch(x){console.error("Failed to update school:",x)}};return!i&&!t&&!n?e.jsx("div",{className:"max-w-2xl",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(f,{className:"h-8 w-8 text-indigo-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Complete School Registration"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"School Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:d,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Enter your school's name"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"School Website"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"url",id:"website",name:"website",value:a.website,onChange:d,placeholder:"https://",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:i?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Registering..."]}):"Complete Registration"})})]})]})}):i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:n})}),r&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-md",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:r})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"School Name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:d,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"url",id:"website",name:"website",value:a.website,onChange:d,placeholder:"https://",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:i?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"})})]})};function I(){const[s,t]=o.useState("school"),{fetchSchool:i}=g();o.useEffect(()=>{i()},[i]);const n=[{id:"school",label:"School",icon:f},{id:"profile",label:"Profile",icon:S},{id:"notifications",label:"Notifications",icon:C},{id:"security",label:"Security",icon:k},{id:"billing",label:"Billing",icon:F}];return e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(w,{className:"h-8 w-8 text-indigo-600 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Settings tabs",children:n.map(({id:r,label:c,icon:l})=>e.jsxs("button",{onClick:()=>t(r),className:`
                  py-4 px-1 inline-flex items-center border-b-2 font-medium text-sm
                  ${s===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[e.jsx(l,{className:"h-5 w-5 mr-2"}),c]},r))})}),e.jsxs("div",{className:"p-6",children:[s==="school"&&e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"School Settings"}),e.jsx(E,{})]}),s==="profile"&&e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-500",children:"Profile management coming soon."})]}),s==="notifications"&&e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-500",children:"Notification settings coming soon."})]}),s==="security"&&e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),e.jsx("p",{className:"text-gray-500",children:"Security settings coming soon."})]}),s==="billing"&&e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Billing Information"}),e.jsx("p",{className:"text-gray-500",children:"Billing features coming soon."})]})]})]})]})}export{I as default};
