import{b as m,a as x,R as h,r as u,j as e,L as f,A as o}from"./index-JDxZcwZg.js";import{S as g}from"./shield-CYkfMjwM.js";import{S as p}from"./school-Mh_A7BXm.js";import{C as j}from"./circle-alert-B391DCOR.js";import{P as y}from"./plus-BRi9IV7e.js";import{L as l}from"./log-out-BWRQf4I8.js";import{M as b}from"./mail-CUcBglu-.js";import"./createLucideIcon-YQMw5vR1.js";const E=()=>{const t=m(),{user:s,isLoadingSchools:r,isAdmin:c,isSuperAdmin:i,signOut:d}=x(),[n,N]=h.useState(null);u.useEffect(()=>{r||(s&&i()?t("/super-admin",{replace:!0}):s!=null&&s.schools&&s.schools.length>0&&t(`/${s.schools[0].id}/dashboard`,{replace:!0}))},[s,i,r,t]);const a=async()=>{await d(),t("/login")};return r?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-12",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})}),e.jsx("p",{className:"text-gray-600",children:"Loading your information..."})]}):s?s&&i()?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:"mx-auto h-12 w-12 text-red-600"}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Redirecting to Admin Panel"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:s.email})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})})]})}):e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(p,{className:"mx-auto h-12 w-12 text-indigo-600"}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Welcome to School Voice"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:s.email})]}),n&&e.jsx("div",{className:"p-4 bg-red-50 rounded-md border border-red-200",children:e.jsxs("div",{className:"flex",children:[e.jsx(j,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-sm text-red-700",children:n})]})}),e.jsx("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:c()?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"You don't have any schools yet"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Create your first school to start managing your school's communication style."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>t(o.CREATE_SCHOOL),className:"inline-flex items-center justify-center w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(y,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Create a School"]}),e.jsxs("button",{onClick:a,className:"inline-flex items-center justify-center w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-red-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(l,{className:"mr-2 h-5 w-5"}),"Sign Out"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Waiting for an Invitation"}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(b,{className:"h-16 w-16 text-indigo-100"})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't currently belong to any schools. You need an invitation from a school administrator to access the platform."}),e.jsx("p",{className:"text-gray-600 mb-6",children:"If you've already received an invitation via email, please check your inbox and click the invitation link."}),e.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Need help? Contact your school administrator or support."}),e.jsxs("button",{onClick:a,className:"inline-flex items-center justify-center w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-red-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(l,{className:"mr-2 h-5 w-5"}),"Sign Out"]})]})})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-12",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Please sign in to access your schools."})}),e.jsx(f,{to:o.LOGIN,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go to Login"})]})};export{E as default};
