import{u as b,a as p,b as j,r as i,j as e,s as N}from"./index-JDxZcwZg.js";import{A as x}from"./arrow-left-WdqU8LdV.js";import{S as y}from"./square-pen-DNOK6Ol0.js";import"./createLucideIcon-YQMw5vR1.js";const C=()=>{const{profileId:a,schoolId:r}=b(),{isAdmin:h}=p(),l=j(),[s,f]=i.useState(null),[u,o]=i.useState(!0),[c,g]=i.useState(null);i.useEffect(()=>{(async()=>{if(a)try{o(!0);const{data:t,error:m}=await N.from("tone_profiles").select("*").eq("id",a).single();if(m)throw m;f(t)}catch(t){console.error("Error fetching tone profile:",t),g("Failed to load tone profile. Please try again.")}finally{o(!1)}})()},[a]);const d=()=>{l(`/${r}/tone-profiles`)};return u?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):c||!s?e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 my-4",children:e.jsx("p",{className:"text-red-700",children:c||"Profile not found"})}),e.jsxs("button",{onClick:d,className:"mt-4 inline-flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Back to Profiles"]})]}):e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:d,className:"inline-flex items-center text-gray-600 hover:text-gray-800",children:[e.jsx(x,{className:"w-4 h-4 mr-1"}),"Back to Profiles"]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s.name}),s.is_active&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2.5 py-0.5 rounded mt-1 inline-block",children:"Active"})]}),r&&h(r)&&e.jsxs("button",{onClick:()=>l(`/${r}/tone-profiles/${s.id}/edit`),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-4",children:"Tone Dimensions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(s.dimensions).map(([n,t])=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 capitalize",children:n.replace("_"," ")}),e.jsxs("span",{className:"text-gray-800 font-medium",children:[t,"/10"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${t/10*100}%`}})})]},n))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-4",children:"Usage"}),e.jsx("p",{className:"text-gray-600",children:"This tone profile can be used when creating new content to ensure consistency with your school's communication style."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>l(`/${r}/content-creation?profile=${s.id}`),className:"inline-flex items-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md",children:"Create Content with this Profile"})})]})]})]})};export{C as default};
