import{b as be,a as we,r,j as e,s as o}from"./index-JDxZcwZg.js";import{c as R}from"./createLucideIcon-YQMw5vR1.js";import{S as ve}from"./shield-CYkfMjwM.js";import{L as le}from"./log-out-BWRQf4I8.js";import{U as ie,X as oe}from"./x-CzINgp-B.js";import{S as M}from"./school-Mh_A7BXm.js";import{S as Se}from"./settings-CM6ss6bD.js";import{P as N}from"./plus-BRi9IV7e.js";import{S as D,U as ke}from"./user-x-BieGnsC4.js";import{R as p}from"./refresh-cw-dA3CF3FU.js";import{G as ne}from"./globe-DY5WextA.js";import{M as Ce}from"./mail-CUcBglu-.js";import{L as Ae}from"./lock-UNwzH9jp.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=R("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=R("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=R("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),ze=()=>{const y=be(),{user:$,isSuperAdmin:m,signOut:ce}=we(),[n,c]=r.useState("dashboard"),[O,x]=r.useState(!0),[f,q]=r.useState({schools:0,users:0,profiles:0,drafts:0}),[b,P]=r.useState([]),[w,me]=r.useState([]),[d,v]=r.useState(""),[xe,u]=r.useState(!1),[he,g]=r.useState(!1),[S,T]=r.useState(""),[k,W]=r.useState(""),[V,z]=r.useState(""),[I,G]=r.useState(!1),[C,Q]=r.useState(""),[H,J]=r.useState("member"),[X,A]=r.useState(""),[_,Y]=r.useState(!1),[U,B]=r.useState(""),[K,Z]=r.useState(""),[ee,E]=r.useState(""),[L,se]=r.useState(!1);r.useEffect(()=>{$&&!m()&&y("/")},[$,m,y]),r.useEffect(()=>{if(!m())return;(async()=>{var t;x(!0);try{const{data:{session:a}}=await o.auth.getSession(),{data:l}=await o.rpc("check_user_super_admin",{user_email:((t=a==null?void 0:a.user)==null?void 0:t.email)||""});if(!l)throw new Error("Super admin privileges required");const{data:i,error:h}=await o.rpc("get_admin_statistics");if(h)throw h;if(i)q({schools:i.school_count||0,users:i.user_count||0,profiles:i.profile_count||0,drafts:i.draft_count||0});else{const{count:fe}=await o.from("schools").select("*",{count:"exact",head:!0}),{count:je}=await o.from("school_members").select("user_id",{count:"exact",head:!0}),{count:Ne}=await o.from("tone_profiles").select("*",{count:"exact",head:!0}),{count:ye}=await o.from("content_drafts").select("*",{count:"exact",head:!0});q({schools:fe||0,users:je||0,profiles:Ne||0,drafts:ye||0})}}catch(a){console.error("Error loading stats:",a)}finally{x(!1)}})()},[m]);const j=async()=>{if(m()){x(!0);try{const{data:s,error:t}=await o.rpc("get_all_schools_for_admin");if(t)throw console.error("Error loading schools:",t),t;me(s||[])}catch(s){console.error("Error loading schools:",s),alert("Failed to load schools. Please try again.")}finally{x(!1)}}},F=async()=>{if(m()){x(!0);try{const{data:s,error:t}=await o.rpc("get_all_school_members_for_admin");if(t)throw console.error("Error loading users:",t),t;const a=new Map;s==null||s.forEach(l=>{a.has(l.user_id)||a.set(l.user_id,{id:l.user_id,email:l.email,displayName:l.display_name,isSuperAdmin:l.is_super_admin,schools:[]}),l.school_id&&a.get(l.user_id).schools.push({id:l.school_id,name:l.school_name,role:l.role})}),P(Array.from(a.values()))}catch(s){console.error("Error loading users:",s),alert("Failed to load users. Please try again.")}finally{x(!1)}}};r.useEffect(()=>{n==="users"?F():n==="schools"&&j()},[n]);const te=d?b.filter(s=>{var t,a;return((t=s.email)==null?void 0:t.toLowerCase().includes(d.toLowerCase()))||((a=s.displayName)==null?void 0:a.toLowerCase().includes(d.toLowerCase()))}):b,ae=d?w.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())):w,ue=async(s,t,a)=>{if(m()&&window.confirm(`Are you sure you want to ${a?"remove":"grant"} super admin privileges ${a?"from":"to"} ${t}?`))try{const{error:l}=await o.rpc("set_super_admin",{user_email:t,is_admin:!a});if(l)throw l;P(b.map(i=>i.id===s?{...i,isSuperAdmin:!a}:i))}catch(l){console.error("Error toggling super admin status:",l),alert("Failed to update admin status. Please try again.")}},re=async()=>{await ce(),y("/login")},ge=async s=>{if(s.preventDefault(),!S||!k){A("Email and password are required");return}Y(!0),A("");try{const{data:{session:t}}=await o.auth.getSession(),a=t==null?void 0:t.access_token;if(!a)throw new Error("You must be logged in to create users");const i=await fetch("https://xroyhqijsehlzqkyzfkg.supabase.co/functions/v1/admin-create-user",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({email:S,password:k,fullName:V||void 0,isSuperAdmin:I,schoolId:C||void 0,schoolRole:H})});if(!i.ok){const h=await i.json();throw new Error(h.error||"Failed to create user")}await F(),T(""),W(""),z(""),Q(""),J("member"),G(!1),u(!1)}catch(t){console.error("Error adding user:",t),A(t.message||"Failed to create user")}finally{Y(!1)}},pe=async s=>{if(s.preventDefault(),!U){E("School name is required");return}se(!0),E("");try{const{data:t,error:a}=await o.rpc("create_school_for_admin",{school_name:U,school_website:K||null,is_admin:!0});if(a)throw a;if(!t)throw new Error("School was not created");await j(),B(""),Z(""),g(!1),alert("School created successfully!")}catch(t){console.error("Error adding school:",t),E(t.message||"Failed to create school")}finally{se(!1)}};return m()?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-indigo-700 flex items-center",children:[e.jsx(ve,{className:"mr-2 h-8 w-8"}),"Super Admin Dashboard"]}),e.jsxs("button",{onClick:re,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md",children:[e.jsx(le,{className:"mr-2 h-5 w-5"}),"Sign Out"]})]}),e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsx("button",{className:`mr-4 py-2 px-4 font-medium text-sm ${n==="dashboard"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("dashboard"),children:"Dashboard"}),e.jsx("button",{className:`mr-4 py-2 px-4 font-medium text-sm ${n==="users"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("users"),children:"Users"}),e.jsx("button",{className:`mr-4 py-2 px-4 font-medium text-sm ${n==="schools"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("schools"),children:"Schools"}),e.jsx("button",{className:`py-2 px-4 font-medium text-sm ${n==="audit"?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("audit"),children:"Audit Log"})]}),n==="dashboard"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-indigo-100 text-indigo-600",children:e.jsx(ie,{className:"h-8 w-8"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.users})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx(M,{className:"h-8 w-8"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-600",children:"Total Schools"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.schools})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:e.jsx(Se,{className:"h-8 w-8"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-600",children:"Tone Profiles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.profiles})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:e.jsx(de,{className:"h-8 w-8"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-600",children:"Content Drafts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.drafts})]})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Overview"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Welcome to the Super Admin Dashboard. From here, you can manage all aspects of the School Voice platform."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Quick Actions"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",onClick:()=>{c("users"),j(),u(!0)},children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add New User"]})}),e.jsx("li",{children:e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",onClick:()=>{c("schools"),g(!0)},children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add New School"]})}),e.jsx("li",{children:e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",onClick:()=>c("users"),children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Manage Users"]})}),e.jsx("li",{children:e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",onClick:()=>c("schools"),children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Manage Schools"]})}),e.jsx("li",{children:e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center",onClick:()=>c("audit"),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"View Audit Logs"]})}),e.jsx("li",{children:e.jsxs("button",{className:"text-red-600 hover:text-red-800 text-sm flex items-center",onClick:re,children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Recent Super Admin Activity"}),e.jsx("p",{className:"text-gray-500 text-sm italic",children:"No recent activities to display."})]})]})]})]}),n==="users"&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"All Users"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:s=>v(s.target.value),className:"pl-10 rounded-md border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx("button",{onClick:F,className:"p-2 rounded-md hover:bg-gray-100",title:"Refresh users",children:e.jsx(p,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]}),O?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(p,{className:"h-8 w-8 text-indigo-600 mx-auto animate-spin"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):te.length===0?e.jsx("div",{className:"py-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["No users found",d?" matching your search":"","."]})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schools"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(s=>{var t,a,l;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-semibold",children:((t=s.displayName)==null?void 0:t.charAt(0).toUpperCase())||((a=s.email)==null?void 0:a.charAt(0).toUpperCase())||"?"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.displayName||"Unnamed User"}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:((l=s.schools)==null?void 0:l.length)>0?e.jsx("div",{className:"space-y-1",children:s.schools.map((i,h)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"truncate max-w-xs",children:i.name}),e.jsx("span",{className:`ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i.role==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:i.role})]},h))}):e.jsx("span",{className:"text-gray-500 italic",children:"No schools"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.isSuperAdmin?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Super Admin"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Regular User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("div",{className:"space-x-2",children:e.jsx("button",{onClick:()=>ue(s.id,s.email,!!s.isSuperAdmin),className:`inline-flex items-center ${s.isSuperAdmin?"text-red-600 hover:text-red-800":"text-green-600 hover:text-green-800"}`,children:s.isSuperAdmin?e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),"Revoke Super Admin"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-1"}),"Make Super Admin"]})})})})]},s.id)})})]})})]}),n==="schools"&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"All Schools"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search schools...",value:d,onChange:s=>v(s.target.value),className:"pl-10 rounded-md border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx("button",{onClick:j,className:"p-2 rounded-md hover:bg-gray-100",title:"Refresh schools",children:e.jsx(p,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Add School"]})]})]}),O?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(p,{className:"h-8 w-8 text-indigo-600 mx-auto animate-spin"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading schools..."})]}):ae.length===0?e.jsx("div",{className:"py-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["No schools found",d?" matching your search":"","."]})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Website"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(M,{className:"h-5 w-5 text-green-600"})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.website?e.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 flex items-center",children:[e.jsx(ne,{className:"h-4 w-4 mr-1"}),"Visit Website"]}):e.jsx("span",{className:"text-gray-500 italic",children:"No website"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>{},className:"text-indigo-600 hover:text-indigo-800",children:"View Details"})})]},s.id))})]})})]}),n==="audit"&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Audit Log"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search audit log...",value:d,onChange:s=>v(s.target.value),className:"pl-10 rounded-md border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx("button",{onClick:()=>{},className:"p-2 rounded-md hover:bg-gray-100",title:"Refresh audit log",children:e.jsx(p,{className:"h-4 w-4 text-gray-600"})})]})]}),e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Audit log functionality coming soon."})})]}),xe&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New User"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(oe,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:ge,children:[X&&e.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:X}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ce,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"email",value:S,onChange:s=>T(s.target.value),className:"pl-10 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"user@example.com",required:!0})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ae,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"password",value:k,onChange:s=>W(s.target.value),className:"pl-10 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"••••••••",required:!0})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name (Optional)"}),e.jsx("input",{type:"text",value:V,onChange:s=>z(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"John Doe"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School (Optional)"}),e.jsxs("select",{value:C,onChange:s=>Q(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"No School"}),w.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),C&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Role"}),e.jsxs("select",{value:H,onChange:s=>J(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:s=>G(s.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Grant Super Admin privileges"})]})}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"mr-3 px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:_,className:`px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md ${_?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"}`,children:_?"Creating...":"Create User"})]})]})]})}),he&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New School"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(oe,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:pe,children:[ee&&e.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:ee}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School Name"}),e.jsx("input",{type:"text",value:U,onChange:s=>B(s.target.value),className:"mt-1 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter school name",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Website (Optional)"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ne,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"url",value:K,onChange:s=>Z(s.target.value),className:"pl-10 block w-full rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://example.com"})]})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"mr-3 px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,className:`px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md ${L?"opacity-50 cursor-not-allowed":"hover:bg-indigo-700"}`,children:L?"Creating...":"Create School"})]})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_e,{className:"mx-auto h-12 w-12 text-red-600"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Access Denied"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"You do not have permission to access this page."})]})})};export{ze as default};
